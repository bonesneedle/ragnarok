(()=>{"use strict";const e=document.body;function t(){e.classList.add("lock")}const o=document.body,n=document.querySelector(".header__burger"),c=document.querySelector(".header__menu"),l=document.querySelector(".header"),s=document.querySelector("#language"),r=document.querySelector("#days"),i=document.querySelector("#hours"),a=document.querySelector("#minutes"),u=document.querySelector("#seconds"),d=new Date(2023,11,5,8,30,0,0),g=Array.from(document.querySelectorAll(".popup")),m=document.querySelector(".get-game"),p=document.querySelector(".form-get-controller__price").textContent.split("$")[0],f=Array.from(document.querySelectorAll(".anim"));v();let _=setInterval(v,1e3);function v(){const e=d-new Date;e<=0&&clearInterval(_);const t=e>0?Math.floor(e/1e3/60/60/24):0,o=e>0?Math.floor(e/1e3/60/60)%24:0,n=e>0?Math.floor(e/1e3/60)%60:0,c=e>0?Math.floor(e/1e3)%60:0;r.textContent=t<10?"0"+t:t,i.textContent=o<10?"0"+o:o,a.textContent=n<10?"0"+n:n,u.textContent=c<10?"0"+c:c}function y(){if(o.classList.contains("lock")&&!n.classList.contains("active"))if(g.length>0){let e=!1;for(let t=0;t<g.length;t++){if(g[t].classList.contains("show")){e=!1;break}e=!0}e&&(o.classList.remove("lock"),o.style.paddingRight="0px",l.style.paddingRight="0px")}else o.classList.remove("lock"),o.style.paddingRight="0px",l.style.paddingRight="0px"}function h(e){e.classList.remove("show"),e.classList.contains("get-controller")&&L(),y()}function L(){document.querySelector(".get-controller__title").textContent="controller dualsense",document.querySelector(".form-get-controller__price").textContent=`${p}$`}document.addEventListener("click",(e=>{let r=e.target;if(r.closest(".header__burger")?(c.classList.toggle("active"),n.classList.toggle("active"),c.classList.contains("active")?t():y()):!n.classList.contains("active")||r.closest(".header__menu")&&!r.closest(".menu-header__link")||(c.classList.remove("active"),n.classList.remove("active"),y()),r.closest("#language")&&(s.parentElement.classList.toggle("active"),s.classList.toggle("active")),!r.closest("#language")&&s.classList.contains("active")&&(s.parentElement.classList.remove("active"),s.classList.remove("active")),r.closest(".header__language-option[data-language]")){let e=r.closest(".header__language-option[data-language]").getAttribute("data-language");s.textContent=e}if(r.hasAttribute("data-popup")){let n=r.getAttribute("data-popup");n&&(e.preventDefault(),document.querySelector(n).classList.contains("get-game")&&function(e="",t="",o="",n=""){if(m){m.querySelector(".get-game__title").textContent=e;let c=m.querySelector(".get-game__subtitle");c.innerHTML="",c.insertAdjacentHTML("afterbegin",`${t} Edition <span>${o}</span>`),m.querySelector(".form-get-game__price").textContent=n+"$"}}(r.getAttribute("data-game"),r.getAttribute("data-edition"),r.getAttribute("data-platform"),r.getAttribute("data-price")),function(e){e.classList.add("show");const n=window.innerWidth-o.offsetWidth+"px";o.style.paddingRight=n,l.style.paddingRight=n,t()}(document.querySelector(n)))}if(r.closest(".popup__close")&&h(r.closest(".popup")),!r.closest(".popup__body")&&r.closest(".popup")&&h(r.closest(".popup")),r.hasAttribute("goto")&&(e.preventDefault(),r.getAttribute("goto"))){let e=document.querySelector(r.getAttribute("goto"));if(e){let t=e.getBoundingClientRect().y+window.pageYOffset;window.innerWidth<=992&&(t-=l.scrollHeight),window.scrollTo({top:t,left:0,behavior:"smooth"})}}if(r.classList.contains("item-choose-edition__button")){e.preventDefault(),h(r.closest(".popup")),L();let t=r.closest(".item-choose-edition"),o=t.querySelector(".item-choose-edition__title").textContent,n=t.querySelector(".item-choose-edition__subtitle").textContent,c=(t.querySelector(".item-choose-edition__price").textContent,document.querySelector(".get-controller"));c.querySelector(".get-controller__title").insertAdjacentHTML("beforeend",` + <div style="color: #fff; margin-top: 10px;">God of War <br> ${o} for ${n} </div>`);let l=t.querySelector(".item-choose-edition__price").textContent.split("$")[0],s=Number(p)+Number(l),i=s-s/100*15;i=Math.round(100*i)/100,c.querySelector(".form-get-controller__price").textContent=`${i}$`}})),document.addEventListener("scroll",(e=>{let t=window.scrollY+window.innerHeight;f.length>0&&f.forEach((e=>{let o=e.getBoundingClientRect().y+window.pageYOffset;t-o>=100&&e.classList.add("anim-play")}))})),document.addEventListener("change",(function(e){let t=e.target;if(t.classList.contains("control-game-explore__checkbox")){let e=t,o=e.parentElement,n=(e.checked,o.querySelector(".control-game-explore__text.active")),c=o.querySelector(".control-game-explore__text.not-active");n.classList.remove("active"),n.classList.add("not-active"),c.classList.remove("not-active"),c.classList.add("active");let l=o.nextElementSibling,s=l.querySelector("ul.active"),r=l.querySelector("ul.not-active");s.classList.remove("active"),s.classList.add("not-active"),r.classList.remove("not-active"),r.classList.add("active")}})),document.querySelector(".get-game__form").addEventListener("submit",(function(e){e.preventDefault()})),document.querySelector(".get-controller__form").addEventListener("submit",(function(e){e.preventDefault()}))})();