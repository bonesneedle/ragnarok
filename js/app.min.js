(()=>{"use strict";const e=document.body,t=document.querySelector(".header__burger"),o=document.querySelector(".header__menu"),r=document.querySelector(".header"),l=document.querySelector("#language"),n=document.querySelector("#days"),s=document.querySelector("#hours"),i=document.querySelector("#minutes"),c=document.querySelector("#seconds"),a=new Date(2023,11,5,8,30,0,0),d=Array.from(document.querySelectorAll(".popup")),u=document.querySelector(".get-game"),g=document.querySelector(".form-get-controller__price").textContent.split("$")[0],p=Array.from(document.querySelectorAll(".anim"));v();let m=0,y=setInterval(v,1e3);function v(){const e=a-new Date;e<=0&&clearInterval(y);const t=e>0?Math.floor(e/1e3/60/60/24):0,o=e>0?Math.floor(e/1e3/60/60)%24:0,r=e>0?Math.floor(e/1e3/60)%60:0,l=e>0?Math.floor(e/1e3)%60:0;n.textContent=t<10?"0"+t:t,s.textContent=o<10?"0"+o:o,i.textContent=r<10?"0"+r:r,c.textContent=l<10?"0"+l:l}function f(){if("hidden"==e.style.overflow&&!t.classList.contains("active"))if(d.length>0){let t=!1;for(let e=0;e<d.length;e++){if(d[e].classList.contains("show")){t=!1;break}t=!0}t&&(e.style.removeProperty("overflow"),e.style.removeProperty("position"),e.style.removeProperty("top"),e.style.removeProperty("width"),window.scrollTo(0,m),e.style.paddingRight="0px",r.style.paddingRight="0px")}else e.style.removeProperty("overflow"),e.style.removeProperty("position"),e.style.removeProperty("top"),e.style.removeProperty("width"),window.scrollTo(0,m),e.style.paddingRight="0px",r.style.paddingRight="0px"}function _(){if(""==e.style.getPropertyValue("overflow")){m=window.pageYOffset,e.style.overflow="hidden",e.style.position="fixed",e.style.top=`-${m}px`,e.style.width="100%";const t=window.innerWidth-e.offsetWidth+"px";e.style.paddingRight=t,r.style.paddingRight=t}}function h(e){e.classList.remove("show"),e.classList.contains("get-controller")&&L();let t=!1;for(let e=0;e<d.length;e++){if(d[e].classList.contains("show")){t=!1;break}t=!0}t&&(r.style.removeProperty("display"),f())}function L(){document.querySelector(".get-controller__title").textContent="controller dualsense",document.querySelector(".form-get-controller__price").textContent=`${g}$`}document.addEventListener("click",(e=>{let n=e.target;if(n.closest(".header__burger")?(o.classList.toggle("active"),t.classList.toggle("active"),r.classList.toggle("bg-active"),o.classList.contains("active")?_():f()):!t.classList.contains("active")||n.closest(".menu-header__list")&&!n.closest(".menu-header__link")||(o.classList.remove("active"),t.classList.remove("active"),r.classList.remove("bg-active"),f()),n.closest("#language")&&(l.parentElement.classList.toggle("active"),l.classList.toggle("active")),!n.closest("#language")&&l.classList.contains("active")&&(l.parentElement.classList.remove("active"),l.classList.remove("active")),n.closest(".header__language-option[data-language]")){let e=n.closest(".header__language-option[data-language]").getAttribute("data-language");l.textContent=e}if(n.hasAttribute("data-popup")){let t=n.getAttribute("data-popup");t&&(e.preventDefault(),document.querySelector(t).classList.contains("get-game")&&function(e="",t="",o="",r=""){if(u){u.querySelector(".get-game__title").textContent=e;let l=u.querySelector(".get-game__subtitle");l.innerHTML="",l.insertAdjacentHTML("afterbegin",`${t} Edition <span>${o}</span>`),u.querySelector(".form-get-game__price").textContent=r+"$"}}(n.getAttribute("data-game"),n.getAttribute("data-edition"),n.getAttribute("data-platform"),n.getAttribute("data-price")),document.querySelector(t).classList.add("show"),r.style.display="none",_())}if(n.closest(".popup__close")&&h(n.closest(".popup")),!n.closest(".popup__body")&&n.closest(".popup")&&h(n.closest(".popup")),n.hasAttribute("goto")&&(e.preventDefault(),n.getAttribute("goto"))){let e=document.querySelector(n.getAttribute("goto"));if(e){let t=e.getBoundingClientRect().y+window.pageYOffset;window.innerWidth<=992&&(t-=r.scrollHeight),window.scrollTo({top:t,left:0,behavior:"smooth"})}}if(n.classList.contains("item-choose-edition__button")){e.preventDefault(),h(n.closest(".popup")),L();let t=n.closest(".item-choose-edition"),o=t.querySelector(".item-choose-edition__title").textContent,r=t.querySelector(".item-choose-edition__subtitle").textContent,l=(t.querySelector(".item-choose-edition__price").textContent,document.querySelector(".get-controller"));l.querySelector(".get-controller__title").insertAdjacentHTML("beforeend",` + <div style="color: #fff; margin-top: 10px;">God of War <br> ${o} for ${r} </div>`);let s=t.querySelector(".item-choose-edition__price").textContent.split("$")[0],i=Number(g)+Number(s),c=i-i/100*15;c=Math.round(100*c)/100,l.querySelector(".form-get-controller__price").textContent=`${c}$`}})),document.addEventListener("scroll",(e=>{let t=window.scrollY+window.innerHeight;p.length>0&&p.forEach((e=>{let o=e.getBoundingClientRect().y+window.pageYOffset;t-o>=100&&e.classList.add("anim-play")}))})),document.addEventListener("change",(function(e){let t=e.target;if(t.classList.contains("control-game-explore__checkbox")){let e=t,o=e.parentElement,r=(e.checked,o.querySelector(".control-game-explore__text.active")),l=o.querySelector(".control-game-explore__text.not-active");r.classList.remove("active"),r.classList.add("not-active"),l.classList.remove("not-active"),l.classList.add("active");let n=o.nextElementSibling,s=n.querySelector("ul.active"),i=n.querySelector("ul.not-active");s.classList.remove("active"),s.classList.add("not-active"),i.classList.remove("not-active"),i.classList.add("active")}})),document.querySelector(".get-game__form").addEventListener("submit",(function(e){e.preventDefault()})),document.querySelector(".get-controller__form").addEventListener("submit",(function(e){e.preventDefault()}))})();